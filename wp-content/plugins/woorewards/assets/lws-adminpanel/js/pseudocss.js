(function(b){b.fn.unwink=function(){this.removeClass("lwss-repeat-wink");this.stop(true);this.css("opacity",0)};b.fn.wink=function(){b(".lwss-repeat-wink").unwink();var d=800;function a(){b(".lwss-repeat-wink").animate({opacity:1},d).animate({opacity:0.7},d,a)}this.addClass("lwss-repeat-wink");a();return this};b.fn.getCursorPosition=function(){var f=this.get(0);if(!f){return}if("selectionStart" in f){return(f.selectionDirection!="backward"?f.selectionStart:f.selectionEnd)}else{if(document.selection){f.focus();var e=document.selection.createRange();var a=document.selection.createRange().text.length;e.moveStart("character",-f.value.length);return e.text.length-a}}};b.fn.mergeInputs=function(h){var k=this;var a=[];if(k.val().length>0){a=JSON.parse(k.val())}var i=false;for(var j=0;j<a.length;j++){if(a[j][h.attr("name")]!=undefined){if(h.val().length<=0){a.splice(j,1)}else{a[j][h.attr("name")]=h.val()}i=true;break}}if(!i&&h.val().length>0){var l={};l[h.attr("name")]=h.val();a.push(l)}k.val(JSON.stringify(a));return k};b.fn.demoNormalCSS=function(){var j=b(this);var k=j.closest(".lwss-css-editor");var h=k.find("input.lwss-merge-css").val().split(";");for(var i=0,l=h.length;i<l;i++){var a=h[i].split(":");if(a[0]=="color"||a[0]=="background-color"){j.css(a[0],a[1])}}};b.fn.demoHoverCSS=function(){var j=b(this);var k=j.closest(".lwss-css-editor");var h=k.find("input.lwss-merge-css").val().split(";");for(var i=0,l=h.length;i<l;i++){if(h[i].startsWith("hover-")){var a=h[i].split(":");j.css(a[0].substring(6),a[1])}}};b.fn.demoFocusCSS=function(){var j=b(this);var k=j.closest(".lwss-css-editor");var h=k.find("input.lwss-merge-css").val().split(";");for(var i=0,l=h.length;i<l;i++){if(h[i].startsWith("active-")){var a=h[i].split(":");j.css(a[0].substring(7),a[1])}}};b.fn.mergeCSS=function(k){var l=this;var a=l.hasClass("lwss-css-inputs")?l:l.closest(".lwss-css-inputs");var h="";var j=false;var i=false;a.find("input[data-css]").each(function(){if(b(this).val().trim().length>0){h+=b(this).data("css")+":"+b(this).val()+";"}j|=(b(this).data("css")=="color");i|=(b(this).data("css")=="background-color")});a.find("select[data-css]").each(function(){if(b(this).val().trim().length>0){h+=b(this).data("css")+":"+b(this).val()+";"}j|=(b(this).data("css")=="color");i|=(b(this).data("css")=="background-color")});a.find(".lwss-btn-color-demo[data-css]").each(function(){h+=b(this).data("css")+":"+b(this).css("background-color")+";";j|=(b(this).data("css")=="color");i|=(b(this).data("css")=="background-color")});if(k==undefined||!k){a.find("input.lwss-merge-css").val(h)}l.closest(".lwss-css-editor").find(".lwss-css-example").each(function(){b(this).attr("style",h);if(!j){b(this).css("color",(b(this).lwsIsDark()?"white":"black"))}if(!i){b(this).css("background-color",(b(this).lwsIsDark("color")?"white":"black"))}});l.closest(".lwss-css-editor").find(".lwss-toggle-states-N").each(function(){b(this).demoNormalCSS()});l.closest(".lwss-css-editor").find(".lwss-toggle-states-O").each(function(){b(this).demoHoverCSS()});l.closest(".lwss-css-editor").find(".lwss-toggle-states-F").each(function(){b(this).demoFocusCSS()});return l};b.fn.toggleBtn=function(){return this.each(function(){var f=b(this);var g="lws-btn-toggle-";var a=(f.data("text")!=undefined?f.data("text"):"");f.css("display","none");var h=f.next(".lws-btn-toggle");if(h.length==0){h=b("<div class='lws-btn-toggle'><span>"+a+"</span></div>").insertAfter(f);if(f.data("class")!=undefined){h.addClass(f.data("class"))}h.click(function(){var c=(h.hasClass(g+"on")?"off":"on");f.val(f.data(c));h.removeClass(g+"on "+g+"off").addClass(g+c);f.trigger("change")})}h.removeClass(g+"on "+g+"off").addClass(f.val()==f.data("on")?g+"on":g+"off")})}})(jQuery);jQuery(function(d){d("input[data-master]").change(function(){d(this).mergeInputs(d("input[name='"+d(this).data("master")+"']"))});d("input[data-master]").keyup(function(){d(this).mergeInputs(d("input[name='"+d(this).data("master")+"']"))});function f(k){var c=".lwss-bloc-mark-"+k.data("css");var m=k.val().split(" ");if(m.length>1){var n=0,a=0,b=k.getCursorPosition();for(a=0;a<m.length;a++){n+=1+m[a].length;if(n>b){break}}if(m.length==2){c+=".lwss-bloc-mark-"+(a==0?"v":"h")}else{if(a<4){var l=["u","r","d","l"];c+=".lwss-bloc-mark-"+l[a]}}}k.closest(".lwss-css-editor").find(c).wink()}d(".lwss-tooltip[data-tooltip]").mouseover(function(){d("#lwss-tooltip-widget").remove();var a=d(this).data("tooltip");if(a.length>0){d("<div id='lwss-tooltip-widget'>"+a+"</div>").insertAfter(d(this)).mouseleave(function(){d(this).remove()})}return false});d(".lwss-bloc-inputs input[data-css]").focusin(function(){f(d(this))}).keyup(function(){var a=d(this).data("css");f(d(this))}).click(function(){var a=d(this).data("css");f(d(this))}).focusout(function(){d(this).closest(".lwss-css-editor").find(".lwss-bloc-mark").unwink()});d(".lwss-css-inputs input[data-css]").change(function(){d(this).mergeCSS()});d(".lwss-css-inputs select[data-css]").change(function(){d(this).mergeCSS()});d(".lwss-css-inputs").each(function(){d(this).mergeCSS(true)});d(".lws-font-size-part").change(function(){var b=d(this).closest(".lwss-text-size-select");var a=b.find("input[type='hidden']");if(a.length>0){a.val(b.find("input[data-part='val']").val()+b.find("select[data-part='unit']").val());a.trigger("change")}});d(".lws-src-btn-toggle").toggleBtn();d(".lwss-reset-btn").click(function(b){var a=d(b.target).attr("id");d("[data-source='"+a+"'][data-lwss]").each(function(){var c=d(this);if(c.hasClass("lwss-btn-color-demo")){c.css("background-color",c.data("lwss"));c.parent().find(".lwss-btn-color-value").html(c.data("lwss"));c.mergeCSS(true)}else{if(c.hasClass("lws-src-btn-toggle")){c.val(c.data("lwss"));c.toggleBtn();c.trigger("change")}else{c.val(c.data("lwss"));c.trigger("change")}}var h=c.hasClass("lwss-css-inputs")?c:c.closest(".lwss-css-inputs");if(h.length>0){h.find("input.lwss-merge-css").val("")}})});function e(c){var i=c.closest(".lwss-css-editor");var a=i.find("input.lwss-merge-css").val().split(";");for(var b=0,k=a.length;b<k;b++){if(a[b].match("^(?!hover-|active-).*color.*")){var l=a[b].split(":");c.css(l[0],l[1])}}}d(".lwss-button-example").hover(function(){d(this).demoHoverCSS()},function(){e(d(this))});d(".lwss-button-example").mousedown(function(){d(this).demoFocusCSS()});d(".lwss-button-example").mouseup(function(){d(this).demoHoverCSS()});d(".lwss-input-button-toggle").click(function(){d(".lwss-hide-on-clic-out").fadeOut();d(".lwss-fold-on-clic-out").slideUp();if(d(this).data("target")!=undefined){var a=d(this).closest(".lwss-css-inputs").find(d(this).data("target"));if(a.is(":hidden")){a.slideDown()}return false}})});