(function(b){b.widget("lws.lws_themer",{_create:function(){this.isOpen=false;this.cssValues=lwsBase64.toObj(this.element.data("cssvalues"));this.prefix=this.element.data("prefix");this.bgLight=this.element.data("type");this.input=this.element.find(".lws_themer_chain");this.element.on("change",".lws-cp-input",this._bind(this._changedValue,this));this.element.on("click",".lws-themer-themsel-button",this._bind(this._themeSelButton,this));this.element.on("click",".lws-themer-lb-light",this._bind(this._selBg,this));this.element.on("click",".lws-themer-lb-dark",this._bind(this._selBg,this));this.element.on("click",".lws-themer-theme-div",this._bind(this._selTheme,this));this._setBackground();this._setInitValues();this._setThemesSelectors();this._makeCssChain()},_bind:function(a,d){return function(){return a.apply(d,arguments)}},_setInitValues:function(){var a=this;this.element.find(".lws-color-picker").each(function(){var d=a.prefix+this.id;b(this).find(".lws-cp-input").val(a.cssValues[d]);b(this).find(".lws-cp-demo").css("background-color",a.cssValues[d])})},_setThemesSelectors:function(){var a=this;this.element.find(".lws-themer-theme-div").each(function(){var f=b(this).data("title");var h=lwsBase64.toObj(b(this).data("colors"));var g=(b(this).data("type")=="light")?"#666666":"#eeeeee";b("<div>",{"class":"lws-themer-tobj-colcont"}).append(b("<div>",{"class":"lws-themer-tobj-main",css:{"background-color":h[a.prefix+"main-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-smalls"}).append(b("<div>",{"class":"lws-themer-tobj-small tobj-first",css:{"background-color":h[a.prefix+"second-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":h[a.prefix+"third-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":h[a.prefix+"fourth-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":h[a.prefix+"text-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":h[a.prefix+"title-color"]}})).append(b("<div>",{"class":"lws-themer-tobj-small tobj-last",css:{"background-color":h[a.prefix+"highlight-color"]}}))).appendTo(this);b("<div>",{"class":"lws-themer-tobj-title",html:f,css:{color:g}}).appendTo(this)})},_setBackground:function(){if(this.bgLight=="dark"){this.element.find(".lws-themer-top").css("background-color","#2a3333")}else{this.element.find(".lws-themer-top").css("background-color","#ffffff")}},_selBg:function(a){button=b(a.currentTarget);if(button.hasClass("lws-themer-lb-light")){this.bgLight="light"}else{this.bgLight="dark"}this._setBackground();this._makeCssChain()},_themeSelButton:function(){if(!this.isOpen){this.element.find(".lws-themer-themes-panel").css("display","flex");this.isOpen=true}else{this.element.find(".lws-themer-themes-panel").css("display","none");this.isOpen=false}},_selTheme:function(h){var f=b(h.currentTarget);var g=lwsBase64.toObj(f.data("colors"));this.bgLight=f.data("type");this._setBackground();var a=this;this.element.find(".lws-color-picker").each(function(){var c=a.prefix+this.id;b(this).find(".lws-cp-input").val(g[c]).trigger("change")});this.element.find(".lws-themer-themes-panel").css("display","none");this.isOpen=false},_changedValue:function(f){var g=b(f.currentTarget);var h=g.closest(".lws-color-picker");var a=this.prefix+h[0].id;document.documentElement.style.setProperty(a,g.val());this._makeCssChain()},_makeCssChain:function(){var d=":root{";var a=this;this.element.find(".lws-color-picker").each(function(){var f=a.prefix+this.id;var c=b(this).find(".lws-cp-input").val();d+=f+":"+c+";"});d+="--type:"+this.bgLight+";";d+="}";this.input.val(lwsBase64.encode(d))}})})(jQuery);jQuery(function(b){b(".lws_themer").lws_themer()});